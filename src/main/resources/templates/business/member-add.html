<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta http-equiv="Cache" content="no-cache">
<link rel="Bookmark" href="/favicon.ico" >
<link rel="Shortcut Icon" href="/favicon.ico" />
<!--[if lt IE 9]>
<script type="text/javascript" src="lib/html5shiv.js"></script>
<script type="text/javascript" src="lib/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" th:href="@{/business/static/h-ui/css/H-ui.min.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/business/static/h-ui.admin/css/H-ui.admin.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/business/lib/Hui-iconfont/1.0.8/iconfont.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/business/static/h-ui.admin/skin/default/skin.css}" id="skin" />
<link rel="stylesheet" type="text/css" th:href="@{/business/static/h-ui.admin/css/style.css}" />
<!--[if IE 6]>
<script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
<!--/meta 作为公共模版分离出去-->
<title>添加用户</title>
<meta name="keywords" content="设备感知数据监控分析管理平台">
<meta name="description" content="设备感知数据监控分析管理平台">
</head>
<body>
<article class="page-container" style="text-align:left;">
	<form action="#" th:action="@{personAdd}" method="post" class="form form-horizontal" id="form-member-add" th:object="${personPojo}">
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>用户ID：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" placeholder="请输入字母和数字" id="id" name="id">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>用户名：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" value="" placeholder="" id="name" name="name" th:field="*{name}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>密码：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="password" class="input-text" value="" placeholder="" id="pwd" name="pwd" th:field="*{pwd}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>性别：</label>
			<div class="formControls col-xs-8 col-sm-5 skin-minimal">
				<div class="radio-box">
					<input type="radio" id="sex-1" name="sex" th:value="男" th:field="*{sex}">
					<label th:for="sex-1">男</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="sex-2" name="sex" th:value="女" th:field="*{sex}">
					<label th:for="sex-2">女</label>
				</div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>手机：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" value="" placeholder="" id="mobile" name="mobile" th:field="*{telphone}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>角色：</label>
			<div class="formControls col-xs-8 col-sm-5 skin-minimal">
				<div class="radio-box" th:if="${roleId} eq '0'">
					<input type="radio" id="role-1" name="role" value="1" th:field="*{role}">
					<label for="role-1">管理员</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-2" name="role" value="2" checked th:field="*{role}">
					<label for="role-2">普通用户</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-3" name="role" value="3" checked th:field="*{role}">
					<label for="role-3">甲方</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-4" name="role" value="4" checked th:field="*{role}">
					<label for="role-4">乙方</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-5" name="role" value="5" checked th:field="*{role}">
					<label for="role-5">设备供应商</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-6" name="role" value="6" checked th:field="*{role}">
					<label for="role-6">运维人员</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-7" name="role" value="7" checked th:field="*{role}">
					<label for="role-7">集成公司</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-8" name="role" value="8" checked th:field="*{role}">
					<label for="role-8">电力公司</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-9" name="role" value="9" checked th:field="*{role}">
					<label for="role-9">运营商</label>
				</div>
				<div class="radio-box">
					<input type="radio" id="role-10" name="role" value="10" checked th:field="*{role}">
					<label for="role-10">用户单位</label>
				</div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>职务：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" value="" placeholder="" id="job" name="job" th:field="*{job}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>出生年月：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" onfocus="WdatePicker()" value="" placeholder="" id="birthday" name="birthday" th:field="*{birthday}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>办公地址：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" value="" placeholder="" id="workAddress" name="workAddress" th:field="*{workAddress}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>所在单位：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" value="" placeholder="" id="company" name="company" th:field="*{company}">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>邮箱：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<input type="text" class="input-text" placeholder="@" name="email" id="email" th:field="*{email}">
			</div>
		</div><!-- 
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2">附件：</label>
			<div class="formControls col-xs-8 col-sm-5"> <span class="btn-upload form-group">
				<input class="input-text upload-url" type="text" name="uploadfile" id="uploadfile" readonly nullmsg="请添加附件！" style="width:200px">
				<a href="javascript:void();" class="btn btn-primary radius upload-btn"><i class="Hui-iconfont">&#xe642;</i> 浏览文件</a>
				<input type="file" multiple name="file-2" class="input-file">
				</span> </div>
		</div> -->
		<div class="row cl" style="display:none;">
			<label class="form-label col-xs-4 col-sm-2">所在城市：</label>
			<div class="formControls col-xs-8 col-sm-5"> <span class="select-box">
				<select class="select" size="1" name="city">
					<option value="" selected>请选择城市</option>
					<option value="1">北京</option>
					<option value="2">上海</option>
					<option value="3">广州</option>
				</select>
				</span> </div>
		</div>
		<div class="row cl" style="display:none;">
			<label class="form-label col-xs-4 col-sm-2">备注：</label>
			<div class="formControls col-xs-8 col-sm-5">
				<textarea name="beizhu" cols="" rows="" class="textarea"  placeholder="人员备注信息...最少输入10个字符" onKeyUp="$.Huitextarealength(this,100)"></textarea>
				<p class="textarea-numberbar"><em class="textarea-length">0</em>/100</p>
			</div>
		</div>
		<div class="row cl">
			<div class="col-xs-8 col-sm-5 col-xs-offset-4 col-sm-offset-2">
				<input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;提交&nbsp;&nbsp;">
			</div>
		</div>
		
		<input type="hidden" class="input-text" th:text="${retCode}">
	</form>
</article>

<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" th:src="@{/business/lib/jquery/1.9.1/jquery.min.js}"></script> 
<script type="text/javascript" th:src="@{/business/lib/layer/2.4/layer.js}"></script>
<script type="text/javascript" th:src="@{/business/static/h-ui/js/H-ui.min.js}"></script> 
<script type="text/javascript" th:src="@{/business/static/h-ui.admin/js/H-ui.admin.js}"></script> <!--/_footer 作为公共模版分离出去-->

<!--请在下方写此页面业务相关的脚本--> 
<script type="text/javascript" th:src="@{/business/lib/My97DatePicker/4.8/WdatePicker.js}"></script>
<script type="text/javascript" th:src="@{/business/lib/jquery.validation/1.14.0/jquery.validate.js}"></script> 
<script type="text/javascript" th:src="@{/business/lib/jquery.validation/1.14.0/validate-methods.js}"></script> 
<script type="text/javascript" th:src="@{/business/lib/jquery.validation/1.14.0/messages_zh.js}"></script>
<script type="text/javascript">
$(function(){
	$('.skin-minimal input').iCheck({
		checkboxClass: 'icheckbox-blue',
		radioClass: 'iradio-blue',
		increaseArea: '20%'
	});
	
	$("#form-member-add").validate({
		rules:{
			id:{
				required:true,
				minlength:2,
				maxlength:16
			},
			name:{
				required:true,
				minlength:2,
				maxlength:16
			},
			pwd:{
				required:true,
				minlength:2,
				maxlength:16
			},
			sex:{
				required:true,
			},
			mobile:{
				required:true,
				isMobile:true,
			},
			role:{
				required:true,
			},
			email:{
				required:true,
				email:true,
			},
			uploadfile:{
				required:true,
			},
		},
		onkeyup: false,
		focusCleanup: true,
		success: "valid",
		submitHandler:function(form){
			var options = {
					success: function (data) {
						console.log(data);
						data=JSON.parse(data);
						var msg = '';
						if(data.retCode == 'IFER') {
							msg = "信息错误";
						} else if(data.retCode == 'TOTI') {
							msg = "Token 过期";
						} else if(data.retCode == 'USNN') {
							msg = "用户不能为空";
						} else if(data.retCode == 'USEX') {
							msg = "用户ID已被注册";
						} else if(data.retCode == 'PHNN') {
							msg = "手机号不能为空";
						} else if(data.retCode == 'RONN') {
							msg = "角色不能为空";
						} else if(data.retCode == 'SENN') {
							msg = "性别不能为空";
						} else if(data.retCode == 'JONN') {
							msg = "职务不能为空";
						} else if(data.retCode == 'BINN') {
							msg = "出生年月不为空";
						} else if(data.retCode == 'OANN') {
							msg = "办公地址不能为空";
						} else if(data.retCode == 'CONN') {
							msg = "所在单位不能为空";
						} else if(data.retCode == 'USAF') {
							msg = "用户录入失败";
						} else if(data.retCode == 'USAS') {
							msg = "用户录入成功";
						}
						layer.msg(msg,{icon:1,time:1000},function(){
							$("li.active i", parent.document).trigger("click");
						});
						
					}
			};
			$(form).ajaxSubmit(options);
		}
	});
});


</script> 
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>